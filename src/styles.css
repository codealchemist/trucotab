:root{
	--bg: #0b1220;
	--surface: #0f1724;
	--muted: #94a3b8;
	--accent: #60a5fa;
	--accent-2: #fb7185;
	--text: #e6eef8;
	--divider: #203040;
	--success: #4ade80;
	--danger: #ff5050;
	--side-width: auto;
	--emoji-size: 48px;
	--emoji-font: 24px;
}

[data-theme="light"] {
	--bg: #f8fafc;
	--surface: #ffffff;
	--muted: #475569;
	--accent: #2563eb;
	--accent-2: #ef4444;
	--text: #0f172a;
	--divider: #e6eef8;
	--success: #16a34a;
	--danger: #dc2626;
}

body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin: 0; padding: 0; background: var(--bg); color: var(--text); }
.app { max-width: 980px; margin: 0 auto; padding: 0; background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); }
.site-header { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.site-header h1 { margin:0; color:var(--text); }
.site-header nav a { margin-left: 8px; text-decoration:none; color: var(--accent); }
main { margin-top: 18px; }

/* Move internal spacing from the app container to header/main so side pane can be flush */
.site-header, main { padding: 18px; }

.theme-toggle { margin-left:12px; padding:6px 10px; border-radius:8px; border:1px solid var(--divider); background:transparent; color:var(--text); cursor:pointer }

/* Hamburger + side pane styles */
.hamburger { background: transparent; border: 1px solid var(--divider); padding:6px 10px; border-radius:8px; color:var(--text); cursor:pointer }
.menu-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0); z-index:1200; display:none; }
.side-pane { width: auto; max-width:85%; background: var(--surface); padding:24px; box-shadow: 6px 0 24px rgba(0,0,0,0.6); }
.side-nav { display:flex; flex-direction:column; gap:12px }
.menu-item { display:block; padding:14px 8px; color:var(--text); text-decoration:none; border-bottom:1px solid var(--divider); }
.menu-item:hover { background: rgba(255,255,255,0.02) }

/* Active side menu item */
.menu-item.active { background: linear-gradient(90deg, rgba(96,165,250,0.09), rgba(96,165,250,0.02)); color: var(--accent); font-weight:700; border-left: 4px solid var(--accent); padding-left: 12px }

/* hide page section headings globally */
section h2 { display:none }

/* Mobile: use overlay and sliding pane */
@media (max-width:720px){
	:root { --emoji-size: 64px; --emoji-font: 32px; }
	.menu-overlay { display:block; background: rgba(0,0,0,0.5); }
	.side-pane { position: fixed; left: 0; top: 0; bottom: 0; height:100%; transform: translateX(-110%); transition: transform 200ms ease-out; z-index:1201 }
	/* make side pane wider on mobile */
	.side-pane { width: min(70vw, 420px); }
	.side-pane.open-mobile { transform: translateX(0); }
	.main-nav { display:none }
	.hamburger { display:inline-block }
}

@media (min-width:721px){
	.hamburger { display:none }
	.menu-overlay { display:none }

	/* Use CSS Grid to separate side pane and main content cleanly */
	.app {
		display: grid;
		grid-template-columns: auto 1fr;
		grid-template-rows: auto 1fr;
		min-height: 100vh;
	}

	.side-pane {
		position: static;
		grid-column: 1;
		grid-row: 1 / -1;
		height: 100vh;
		box-shadow: none;
		width: auto;
		min-width: 220px;
	}

	.site-header {
		grid-column: 2;
		position: sticky;
		top: 0;
		z-index: 1100;
	}

	main {
		grid-column: 2;
	}
}

/* TrucoScore styles (dark) */
.truco-score { margin-top: 20px; }
.match-type { display:flex; gap:12px; margin-bottom:12px; align-items:center; }
.match-type label { color: var(--muted); }
.match-type input { margin-right:6px; }
.match-type button { background: transparent; color: var(--muted); border: 1px solid var(--divider); padding:6px 10px; border-radius:6px; cursor:pointer }

.board { display:flex; align-items:center; justify-content:space-between; gap:16px; }
.player { flex:1; display:flex; flex-direction:column; align-items:center; padding:12px; background: rgba(255,255,255,0.02); border-radius:10px; border:1px solid var(--divider); }
.player-name { font-size:1rem; padding:6px 8px; width:180px; text-align:center; background: transparent; color: var(--text); border:1px solid transparent; border-radius:6px }
.player-name:focus { outline:none; border-color: rgba(96,165,250,0.25); }
.points-divider { width:100%; height:1px; background:var(--divider); margin:10px 0; }
.points { font-size:2.5rem; font-weight:700; margin:8px 0; }
.controls { display:flex; gap:8px; }
.controls button { padding:6px 10px; font-size:1rem; border-radius:6px; border:1px solid var(--divider); background:transparent; color:var(--text); cursor:pointer }
.controls button:hover { background: rgba(255,255,255,0.02); }
.vertical-separator { display: none; }

.player-name-row { display:flex; gap:8px; align-items:center; }
.emoji-profile { width: var(--emoji-size); height: var(--emoji-size); border-radius: 50%; display:flex; align-items:center; justify-content:center; font-size: var(--emoji-font); border:1px solid var(--divider); background: transparent; color: var(--text); cursor: pointer }

/* Fullscreen emoji picker overlay */
.emoji-overlay { position: fixed; inset: 0; z-index: 1400; display:flex; align-items:center; justify-content:center; }
.emoji-overlay-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.6); }
.emoji-overlay-content { position: relative; z-index: 1401; display:flex; align-items:center; justify-content:center; padding: 20px; }
.emoji-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(calc(var(--emoji-size) + 12px), 1fr)); gap: 12px; width: min(720px, 90vw); }
.emoji-btn { width: var(--emoji-size); height: var(--emoji-size); border-radius: 50%; display:flex; align-items:center; justify-content:center; font-size: var(--emoji-font); background: var(--surface); color: var(--text); border:1px solid var(--divider); cursor:pointer }
.emoji-btn:active { transform: scale(0.96) }

/* Winner overlay + confetti */
.winner-overlay { position: fixed; inset: 0; z-index: 1500; display:flex; align-items:center; justify-content:center; }
.winner-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.65); }
.winner-content { position: relative; z-index: 1501; width: 100%; height: 100%; display:flex; align-items:center; justify-content:center; overflow: hidden }
.winner-card { display:flex; flex-direction:column; align-items:center; gap:12px; padding: 18px 28px; border-radius: 12px; background: var(--surface); border:1px solid var(--divider); color:var(--text); box-shadow: 0 12px 40px rgba(2,6,23,0.7); }
.winner-emoji { font-size: calc(var(--emoji-size) * 1.5); }
.winner-text { font-size: 1.6rem; font-weight:700 }

.confetti-piece { position: absolute; top: -10%; width: 12px; height: 22px; opacity: 0.95; border-radius: 4px; animation: confetti-fall 3000ms cubic-bezier(.2,.8,.2,1) forwards }

@keyframes confetti-fall {
	0% { transform: translateY(0) rotate(0deg); opacity:1 }
	100% { transform: translateY(120vh) rotate(720deg); opacity:0 }
}

@keyframes tada {
	0% { transform: scale(1) }
	10%, 20% { transform: scale(0.9) rotate(-3deg) }
	30%, 50%, 70% { transform: scale(1.1) rotate(3deg) }
	40%, 60% { transform: scale(1.03) rotate(-3deg) }
	100% { transform: scale(1) }
}
.tada { animation: tada 900ms ease-in-out }

.winner-close-btn { margin-top: 6px; padding:8px 14px; border-radius:8px; border:1px solid transparent; background: var(--danger); color: #fff; cursor:pointer }
.winner-close-btn:hover { filter: brightness(0.95); }

/* Version styling on About page */
.version-pill { display:inline-block; border-radius:999px; color: var(--accent); font-weight:600; font-size:0.92rem }

.player.left .points { color: var(--success); }
.player.right .points { color: var(--danger); }

/* small screens */
@media (max-width:720px){
	.board { flex-direction:column; }
	.vertical-separator { display:none }
	.player { width:100%; }
}
